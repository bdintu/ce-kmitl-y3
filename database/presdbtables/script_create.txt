-- psql
CREATE DATABASE PRESIDENTIAL;

-- \c presidential
CREATE TABLE ADMINISTRATION (
	ADMIN_NR SMALLINT, 
	PRES_NAME VARCHAR(30), 
	YEAR_INAUGURATED SMALLINT, 
	 CONSTRAINT ADMINISTRATION_CON UNIQUE (ADMIN_NR, PRES_NAME, YEAR_INAUGURATED)
);

CREATE TABLE ADMIN_PR_VP (
	ADMIN_NR SMALLINT, 
	PRES_NAME VARCHAR(30), 
	VICE_PRES_NAME VARCHAR(30), 
	 CONSTRAINT ADMIN_PR_VP_CON UNIQUE (ADMIN_NR, PRES_NAME, VICE_PRES_NAME)
);

CREATE TABLE ELECTION (
	ELECTION_YEAR SMALLINT, 
	CANDIDATE VARCHAR(30), 
	VOTES SMALLINT, 
	WINNER_LOSER_INDIC VARCHAR(15), 
	 CONSTRAINT ELECTION_CON UNIQUE (ELECTION_YEAR, CANDIDATE)
);

CREATE TABLE PRESIDENT (
	PRES_NAME VARCHAR(30), 
	BIRTH_YR SMALLINT, 
	YRS_SERV SMALLINT, 
	DEATH_AGE SMALLINT, 
	PARTY VARCHAR(30), 
	STATE_BORN VARCHAR(30), 
	 CONSTRAINT PRESIDENT_PK PRIMARY KEY (PRES_NAME)
);

CREATE TABLE PRES_HOBBY (
	PRES_NAME VARCHAR(30), 
	HOBBY VARCHAR(30), 
	 CONSTRAINT PRES_HOBBY_CON UNIQUE (PRES_NAME, HOBBY)
);

CREATE TABLE PRES_MARRIAGE (
	PRES_NAME VARCHAR(30), 
	SPOUSE_NAME VARCHAR(30), 
	PR_AGE SMALLINT, 
	SP_AGE SMALLINT, 
	NR_CHILDREN SMALLINT, 
	MAR_YEAR SMALLINT, 
	 CONSTRAINT PRES_MARRIAGE_CON UNIQUE (PRES_NAME, SPOUSE_NAME)
);

CREATE TABLE STATE (
	STATE_NAME VARCHAR(30), 
	ADMIN_ENTERED SMALLINT, 
	YEAR_ENTERED SMALLINT, 
	 CONSTRAINT STATE_PK PRIMARY KEY (STATE_NAME)
);

-- \copy
\COPY ADMINISTRATION FROM 'ADMINISTRATION.csv' DELIMITER ',' CSV HEADER;
\COPY ADMIN_PR_VP FROM 'ADMIN_PR_VP.csv' DELIMITER ',' CSV HEADER;
\COPY ELECTION FROM 'ELECTION.csv' DELIMITER ',' CSV HEADER;
\COPY PRESIDENT FROM 'PRESIDENT.csv' DELIMITER ',' CSV HEADER;
\COPY PRES_HOBBY FROM 'PRES_HOBBY.csv' DELIMITER ',' CSV HEADER;
\COPY PRES_MARRIAGE FROM 'PRES_MARRIAGE.csv' DELIMITER ',' CSV HEADER;
\COPY STATE FROM 'STATE.csv' DELIMITER ',' CSV HEADER;
